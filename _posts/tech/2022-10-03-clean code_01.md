---
layout: post
title: "첫 주의 클린 코드"
description: "clean code - 01"
date: 2022-10-03
tags: [clean code]
categories: Tech
---

# 이름 짓기
- 의미 있는 일름으로 짓자!
- 되도록이면 해법 영역(수학, 프로그래밍 용어)에서 짓고 안되면 도메인영역에서 짓자
- 접두어, 접미어는 마지막 수단이다
- 주석을 쓰지말고 최대한 이름으로 그 의미를 분명하게 하자!
  
# 함수
- 로직 하나당 하나의 함수를 가지자!
- 이름은 서술적으로 하라(사실 의미만 충분히 전달하면 될거 같다.)
- 함수 인수는 적을수록 좋다 (그래서 빌더 패턴이 깔끔한거 같다)
- 추상화 레벨은 위에서 아래로(위가 더 추상적 아래로 갈수록 구체적)
  
# 주석
- 법적인 주석, 특수한 정보를 제공하는 주석, 의도 설명이 꼭 필요한 주석, 실행 시간등 때문에 경고하는 주석 외에는 달지 말자!
- 주석으로 표현하는건 차선이다. 의미있는 이름으로 끝내자

# 형식 맞추기
- 솔직히 요즘 IDE나 에디터가 알아서 해준다.
- 그래도 개념을 분리하거나 들여쓰기는 맞춰서 읽기 좋게 만들자

# 객체 추상화
- 자료 구조는 기능을 자료 구조를 변경하지 않으면 함수를 추가하기 쉽다
- 객체는 기존 함수를 변경하지 않으면, 새로운 클래스를 추가하기 쉽다.
- 결국 객체 지향이 은탄환은 아니라는것이다. 잘 생각해보자
- 디미터 법칙
  - 메서드로 호출한 객체가 다시 메서드로 다른 객체를 호출하고 그게 또 ... -> 이러면 안된다 어지럽다. 각 메서드에서 반환을 한번 받고 타입을 명시하고 사용하자
- 자료구조와 객체를 섞어서 사용하지 말자 -> 혼종 구조라고 함
- 만일 객체안에 메서드로 얻어진 객체에서 뭔가를 하려고 하지말고 그것을 함수로 묶어버리자
- 사실 getter, setter는 별로 좋은 패턴은 아니다
  
# 오류 처리
- 당연한 말이지만, if else로 오류 처리하지 말자, try-catch하자
- 먼저 try-catch-finally부터 작성하여 오류처리의 범위를 지정하고 코딩을 시작하자
- unchecked error를 사용하자
  - 해당 에러를 부르는 메서드를 부르는 모든 곳에서 변경이 일어날수 있다. OCP 위배다
- catch에서 잡는 에러에 충분히 기록하자
- 에러를 잡았다면, 정상흐름을 정의하라..(당연한 말 아닌가..?)
- null을 반환하지 말자! null은 거기서 다 잡자
- null을 전달도 하지 말자 (코틀린에서도 nullable 타입을 최소화 하는것을 고민해야겠다.)

# 경계
- 외부에서 가져온 라이브러리를 사용하기에 앞서 학습 테스트를 해보자

# 유닛 테스트
- TDD를 추구하자 (테스트 작성 - 테스트 실패 - 테스트 성공까지 코딩 - 후 리펙토링)
- 하지만 너무 방대한 테스트 코드는 관리 문제를 유발한다
- 테스트는 장점이 많다(유지보수에 아주 유용한다. 수정할 용기를 주니까...)
- 테스트 코드도 깨끗하게 작성해야한다. (가독성이 a-z다)
- 테스트 코드도 리펙토링 해야한다.
- 테스트 하나다 assertion하나는 이상적으로 좋다
- 그게 안된다면 개념 하나만 테스트하자
- Fast, independent, repeatable, self-validating, timely한 테스트 코드를 짜자

# 클래스
- 왠만하면 변수와 유틸리티는 캡슐화하자, 풀어주는것은 최후의 수단이다.
- 클래스는 작아야한다. 최대한 작게 나누자
- SRP를 준수하자(파일을 읽는 클래스, 쓰는 클래스는 구분!)
- 응집도 있게 짜자(변수 수가 적게)
- 디자인 패턴이나 인터페이스 등을 잘 활용하여 변경에 유연한 클래스가 좋은거 같다. 참 코드로 표현해야하는 부분인거 같다 낄낄
